<!DOCTYPE html>
<html>

<head>
  <title>AIåŠ©æ‰‹</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="æ™ºèƒ½å¯¹è¯ï¼Œé«˜æ•ˆåä½œ">
  <meta name="theme-color" content="#60a5fa">
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    connect-src 'self' http://localhost:8888 ws://localhost:8888;
    script-src 'self' 'unsafe-inline' 'unsafe-eval';
    style-src 'self' 'unsafe-inline';
    img-src 'self' data: blob:;
    font-src 'self' data:;
  ">
  <link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico">
  <link rel="stylesheet" href="/static/prism.min.css" />
  <link href="/static/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <script src="/static/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="/static/marked.min.js" crossorigin="anonymous"></script>
  <script src="/static/purify.min.js" crossorigin="anonymous"></script>
  <script src="/static/jquery-3.7.1.min.js" crossorigin="anonymous"></script>
  <script src="/static/prism.min.js"></script>
  <link rel="stylesheet" href="/static/chat.css">
</head>

<body>
  <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
  <div id="loading-overlay" class="loading-overlay" style="display: none;">
    <div class="loading-spinner">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">åŠ è½½ä¸­...</span>
      </div>
      <p class="mt-2">æ­£åœ¨åˆå§‹åŒ–...</p>
    </div>
  </div>

  <div class="container">
    <div id="scroll-wrapper">
      <div id="chat-container" class="card">
        <div class="card-header">
          <h1 class="chat-title">
            <span class="title-icon">ğŸ¤–</span>
            AIåŠ©æ‰‹
            <span class="title-subtitle">æ™ºèƒ½å¯¹è¯ï¼Œé«˜æ•ˆåä½œ</span>
          </h1>
        </div>
        <div class="card-body">
          <div id="chat-history" role="log" aria-live="polite" aria-label="èŠå¤©å†å²"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- éšè—çš„é…ç½®è¾“å…¥ -->
  <input id="system-prompt" type="hidden" value="ä½ æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹,Your name is hngptï¼Œä¸€ä¸ªç”±hngptç§‘æŠ€å¼€å‘å’Œç»´æŠ¤çš„AIåŠ©æ‰‹">
  <input id="host-address" type="hidden" value="">

  <!-- è¾“å…¥åŒºåŸŸ -->
  <div class="container p-2 card" id="input-area">
    <div class="input-group">
      <textarea
        class="form-control"
        id="user-input"
        placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..."
        aria-label="ç”¨æˆ·è¾“å…¥"
        rows="1"
        maxlength="4000"
        oninput="if(typeof autoGrow === 'function') autoGrow(this)">
      </textarea>
      <button id="send-button" class="btn btn-primary" aria-label="å‘é€æ¶ˆæ¯">
        <span class="send-text">å‘é€</span>
        <span class="send-icon d-none">
          <div class="spinner-border spinner-border-sm" role="status">
            <span class="visually-hidden">å‘é€ä¸­...</span>
          </div>
        </span>
      </button>
    </div>
    <div class="input-footer">
      <small class="text-muted">æŒ‰ Enter å‘é€ï¼ŒShift+Enter æ¢è¡Œ</small>
    </div>
  </div>

  <div class="modal fade" id="errorModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Unable to access hngpt server</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <p id="errorText"></p>
        </div>
      </div>
    </div>
  </div>

  <script src="/static/chat.js"></script>
  <script src="/static/cool-effects.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('host-address').value = window.location.origin;
    });
  </script>

</body>

</html> 